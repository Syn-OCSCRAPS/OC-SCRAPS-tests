<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OC SCRAPS — Music</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <style>
    .music-player-box {
      display: flex;
      flex-direction: row;
      background: #1c1c1c;
      border-radius: 20px;
      overflow: hidden;
      color: white;
      margin: 2rem;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      position: relative;
      height: 500px;
    }
    .album-art-fixed {
      flex: 0 0 auto;
      width: 500px;
      height: 500px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #111;
    }
    .album-art-fixed img {
      height: 90%;
      aspect-ratio: 1 / 1;
      object-fit: contain;
    }
    .track-scroll {
      flex: 1;
      overflow-y: auto;
      padding: 1rem;
      margin-bottom: 60px;
    }
    .track-scroll ul {
      list-style: none;
      padding: 0;
    }
    .track-scroll li {
      margin-bottom: 1.5rem;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 8px;
    }
    .track-scroll li.active {
      background-color: #333;
    }
    .audio-controls {
      position: absolute;
      bottom: 0;
      left: 500px;
      right: 0;
      display: flex;
      align-items: center;
      padding: 0.5rem 1rem;
      background: #2b2b2b;
      border-top: 1px solid #444;
      gap: 1rem;
      height: 60px;
    }
    #progressBar {
      flex: 1;
    }
    #currentTrackInfo {
      flex: 2;
      font-size: 0.9rem;
      opacity: 0.8;
    }
    #timeDisplay {
      font-size: 0.8rem;
      opacity: 0.7;
      min-width: 80px;
      text-align: right;
    }
    @media (max-width: 768px) {
      .music-player-box {
        flex-direction: column;
        height: auto;
      }
      .album-art-fixed,
      .track-scroll {
        width: 100%;
        height: auto;
      }
      .album-art-fixed {
        max-height: 300px;
      }
      .audio-controls {
        position: static;
        flex-wrap: wrap;
        left: 0;
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>OC SCRAPS</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="music.html">Music</a>
      <a href="about.html">About</a>
      <a href="merch.html">Merch</a>
    </nav>
  </header>
  <main>
    <section class="music-player-box">
      <div class="album-art-fixed">
        <img id="albumArt" src="assets/1.album_cover.jpg" alt="Album Cover">
      </div>
      <div class="track-scroll">
        <ul id="trackList">
          <li data-src="assets/1.introspective_introduction.mp3" data-img="assets/1.album_cover.jpg"><strong>Introspective Introduction</strong><br><span>Syn</span></li>
          <li data-src="assets/track2.mp3" data-img="assets/2.album_cover.jpg"><strong>OC SCRAPS</strong><br><span>Syn</span></li>
          <li data-src="assets/track3.mp3" data-img="assets/3.album_cover.jpg"><strong>noose</strong><br><span>Syn</span></li>
          <li data-src="assets/track4.mp3" data-img="assets/4.album_cover.jpg"><strong>UP, DOWN</strong><br><span>Syn</span></li>
        </ul>
      </div>
      <div class="audio-controls">
        <div id="currentTrackInfo">Playing: <span id="currentTrackName">None</span></div>
        <button id="prevBtn">⏮️</button>
        <button id="playPause">▶️</button>
        <button id="nextBtn">⏭️</button>
        <input type="range" id="progressBar" value="0" min="0" max="100" />
        <div id="timeDisplay">0:00 / 0:00</div>
        <audio id="audioPlayer">
          <source src="" type="audio/mpeg">
          Your browser does not support the audio element.
        </audio>
      </div>
    </section>
    <script>
      const tracks = document.querySelectorAll('#trackList li');
      const audio = document.getElementById('audioPlayer');
      const playPause = document.getElementById('playPause');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      const progressBar = document.getElementById('progressBar');
      const currentTrackName = document.getElementById('currentTrackName');
      const albumArt = document.getElementById('albumArt');
      const timeDisplay = document.getElementById('timeDisplay');
      let currentTrack = 0;function formatTime(time) {
    const minutes = Math.floor(time / 60) || 0;
    const seconds = Math.floor(time % 60) || 0;
    return `${minutes}:${seconds.toString().padStart(2, '0')}`;
  }

  function loadTrack(index) {
    tracks.forEach(t => t.classList.remove('active'));
    const track = tracks[index];
    track.classList.add('active');

    const src = track.getAttribute('data-src');
    const name = track.querySelector('strong').textContent;
    const img = track.getAttribute('data-img');
    audio.src = src;
    audio.load();
    audio.play().then(() => {
      playPause.textContent = '⏸️';
    }).catch(err => console.error('Playback error:', err));

    currentTrackName.textContent = name;
    albumArt.src = img;
    currentTrack = index;
    localStorage.setItem('lastTrack', index);
  }

  tracks.forEach((track, i) => {
    track.addEventListener('click', () => loadTrack(i));
  });

  playPause.addEventListener('click', () => {
    if (audio.paused) {
      audio.play();
      playPause.textContent = '⏸️';
    } else {
      audio.pause();
      playPause.textContent = '▶️';
    }
  });

  nextBtn.addEventListener('click', () => {
    currentTrack = (currentTrack + 1) % tracks.length;
    loadTrack(currentTrack);
  });

  prevBtn.addEventListener('click', () => {
    currentTrack = (currentTrack - 1 + tracks.length) % tracks.length;
    loadTrack(currentTrack);
  });

  audio.addEventListener('timeupdate', () => {
    progressBar.value = (audio.currentTime / audio.duration) * 100 || 0;
    timeDisplay.textContent = `${formatTime(audio.currentTime)} / ${formatTime(audio.duration)}`;
  });

  progressBar.addEventListener('input', () => {
    audio.currentTime = (progressBar.value / 100) * audio.duration;
  });

  audio.addEventListener('ended', () => {
    currentTrack = (currentTrack + 1) % tracks.length;
    loadTrack(currentTrack);
  });

  // Load last played track if available
  const savedTrack = localStorage.getItem('lastTrack');
  if (savedTrack !== null) {
    loadTrack(parseInt(savedTrack));
  }
</script>

  </main>
</body>
</html>
