<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OC SCRAPS — Music</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <style>
@media (max-width: 768px) {
  .music-player-box {
    flex-direction: column;
    height: auto;
    margin: 1rem;
  }

  .album-art-fixed {
    width: 100%;
    max-height: 250px;
    height: auto;
  }

  .album-art-fixed img {
    height: auto;
    width: 100%;
    max-height: 100%;
    object-fit: contain;
  }

  .track-scroll {
    height: auto;
    max-height: 300px;
  }

  .audio-controls {
    flex-direction: column;
    align-items: stretch;
    gap: 0.5rem;
    padding: 1rem;
    height: auto;
  }

  .audio-controls > div,
  .audio-controls > button,
  .audio-controls > input {
    width: 100%;
  }

  #currentTrackInfo,
  #timeDisplay {
    text-align: center;
  }

  #progressBar {
    margin-top: 0.5rem;
  }

  #timeDisplay {
    margin-top: 0.3rem;
  }
}
  </style>
</head>
<body>
  <header>
   <a href="index.html">
      <img src="assets/ocscrapslogo.png" alt="OC SCRAPS Logo" style="width: 100%; max-width: 300px;">
    </a>
    <nav>
      <a href="rant.html">Rants</a>
      <a href="music.html">Music</a>
      <a href="about.html">About</a>
      <a href="merch.html">Merch</a>
    </nav>
  </header>
  <main>
    <section class="music-player-box">
      <div class="album-art-fixed">
        <img id="albumArt" src="assets/1-album_cover.png" alt="Album Cover">
      </div>
      <div class="track-scroll">
        <ul id="trackList">
          <li data-src="assets/1.introspective_introduction.mp3" data-img="assets/1.album_cover.jpg"><strong>Introspective Introduction</strong><br><span>Syn</span></li>
          <li data-src="assets/2.oc_scraps.mp3" data-img="assets/1-album_cover.png"><strong>OC SCRAPS</strong><br><span>Syn</span></li>
          <li data-src="assets/track3.mp3" data-img="assets/3.album_cover.jpg"><strong>noose</strong><br><span>Syn</span></li>
          <li data-src="assets/track4.mp3" data-img="assets/4.album_cover.jpg"><strong>UP, DOWN</strong><br><span>Syn</span></li>
        </ul>
      </div>
      <div class="audio-controls">
        <div id="currentTrackInfo">Playing: <span id="currentTrackName">None</span></div>
        <button id="prevBtn">⏮️</button>
        <button id="playPause">▶️</button>
        <button id="nextBtn">⏭️</button>
        <input type="range" id="progressBar" value="0" min="0" max="100" />
        <div id="timeDisplay">0:00 / 0:00</div>
        <audio id="audioPlayer">
          <source src="" type="audio/mpeg">
          Your browser does not support the audio element.
        </audio>
      </div>
    </section>
    <script>
      const tracks = document.querySelectorAll('#trackList li');
      const audio = document.getElementById('audioPlayer');
      const playPause = document.getElementById('playPause');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      const progressBar = document.getElementById('progressBar');
      const currentTrackName = document.getElementById('currentTrackName');
      const albumArt = document.getElementById('albumArt');
      const timeDisplay = document.getElementById('timeDisplay');
      let currentTrack = 0;function formatTime(time) {
    const minutes = Math.floor(time / 60) || 0;
    const seconds = Math.floor(time % 60) || 0;
    return `${minutes}:${seconds.toString().padStart(2, '0')}`;
  }

  function loadTrack(index) {
    tracks.forEach(t => t.classList.remove('active'));
    const track = tracks[index];
    track.classList.add('active');

    const src = track.getAttribute('data-src');
    const name = track.querySelector('strong').textContent;
    const img = track.getAttribute('data-img');
    audio.src = src;
    audio.load();
    audio.play().then(() => {
      playPause.textContent = '⏸️';
    }).catch(err => console.error('Playback error:', err));

    currentTrackName.textContent = name;
    albumArt.src = img;
    currentTrack = index;
    localStorage.setItem('lastTrack', index);
  }

  tracks.forEach((track, i) => {
    track.addEventListener('click', () => loadTrack(i));
  });

  playPause.addEventListener('click', () => {
    if (audio.paused) {
      audio.play();
      playPause.textContent = '⏸️';
    } else {
      audio.pause();
      playPause.textContent = '▶️';
    }
  });

  nextBtn.addEventListener('click', () => {
    currentTrack = (currentTrack + 1) % tracks.length;
    loadTrack(currentTrack);
  });

  prevBtn.addEventListener('click', () => {
    currentTrack = (currentTrack - 1 + tracks.length) % tracks.length;
    loadTrack(currentTrack);
  });

  audio.addEventListener('timeupdate', () => {
    progressBar.value = (audio.currentTime / audio.duration) * 100 || 0;
    timeDisplay.textContent = `${formatTime(audio.currentTime)} / ${formatTime(audio.duration)}`;
  });

  progressBar.addEventListener('input', () => {
    audio.currentTime = (progressBar.value / 100) * audio.duration;
  });

  audio.addEventListener('ended', () => {
    currentTrack = (currentTrack + 1) % tracks.length;
    loadTrack(currentTrack);
  });

  // Load last played track if available
  const savedTrack = localStorage.getItem('lastTrack');
  if (savedTrack !== null) {
    loadTrack(parseInt(savedTrack));
  }
</script>

  </main>
</body>
</html>
